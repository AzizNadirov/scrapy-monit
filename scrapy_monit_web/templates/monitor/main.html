{% extends 'monitor/base.html' %}
{% block title %}ScrapyMonitor - Main{% endblock title %}
{% block body %}
    {% if user.is_authenticated %}
    <div class="row">
        <h3 class="h3">Your ScrapyInstances: {{instances|length}}</h5>
    </div>
    {% for instance in instances %}
    <div class="row">
        <div class="card pb-4 ml-3 pr-3">
            <div class="card-body">
                <a class="card-title h4" href="{{instance.get_absolute_url}}">{{ instance.name }}</a>
                <p class="card-text">
                    <strong>Projects:</strong> {{ instance.projects.all|length}}
                </p>
                <p class="card-text">
                    <strong>Spiders:</strong> {{ instance.projects.first.spiders.all|length}}
                </p>
                <p class="card-text">
                    <strong>Jobs:</strong> {{ instance.jobs.all|length}}
                </p>
            </div>
        </div>
    {% empty %}
        <h5 class="h5">
            There is no instances yet.
        </h5>
    {% endfor %}
    </div>
    {% else %}
        <h5 class="h5">
            You have to create local account and add ScrapyInstance for using this tool!
        </h5>
    {% endif %}
{% endblock body %}



